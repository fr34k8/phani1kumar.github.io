<!DOCTYPE html><html><head>

  <title>iron-query-params</title>

  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="../iron-query-params.html">
  <link rel="import" href="../../iron-flex-layout/iron-flex-layout-classes.html">
</head>
<body>

  <dom-module id="iron-query-params-demo">
    <template>
      <style include="iron-flex">
        div.inputs {
          margin-bottom: 15px;
        }
        label {
          display: inline-block;
          width: 100px;
        }
        h3 {
          padding: 0;
          margin: 0;
        }
      </style>
      <iron-query-params id="queryParams" params-string="{{paramsString}}" params-object="{{params}}">
      </iron-query-params>

      <div class="layout horizontal">
        <div class="layout vertical flex">
          <div>Params as string:</div>
          <input value="{{paramsString::input}}">

          <div>Params as object</div>
          <template is="dom-if" if="{{paramsInvalid}}">
            <div>INVALID PARAMS: Should be legal JSON</div>
          </template>
          <input value="{{paramsJson::input}}">
        </div>
      </div>
    </template>
    <script>window.addEventListener("WebComponentsReady",function(){Polymer({is:"iron-query-params-demo",properties:{paramsJson:{observer:"paramsJsonChanged"},params:{observer:"paramsChanged"},paramsInvalid:{value:!1},paramsString:{type:String,observer:"paramsStringChanged"}},paramsStringChanged:function(){this.notifyPath("params",this.$.queryParams.paramsObject)},paramsJsonChanged:function(){if(!this.ignore){this.ignore=!0;try{this.params=JSON.parse(this.paramsJson),this.notifyPath("paramsString",this.$.queryParams.paramsString),this.paramsInvalid=!1}catch(a){this.paramsInvalid=!0}this.ignore=!1}},paramsChanged:function(){this.ignore||(this.ignore=!0,this.paramsJson=JSON.stringify(this.params),this.paramsInvalid=!1,this.ignore=!1)}})});</script>
  </dom-module>

  <iron-query-params-demo></iron-query-params-demo>


</body></html>