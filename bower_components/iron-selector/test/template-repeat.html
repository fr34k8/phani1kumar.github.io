<!DOCTYPE html><html><head>

  <title>iron-selector-template-repeat</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../../web-component-tester/browser.js"></script>
  <link rel="import" href="../../iron-test-helpers/iron-test-helpers.html">

  <link rel="import" href="../iron-selector.html">

  <style>
    .iron-selected {
      background: #ccc;
    }
  </style>

</head>
<body>

  <test-fixture id="scope-polymer2">
    <template>
      <div>
        <dom-bind>
          <template>
            <iron-selector selected="1">
              <dom-repeat>
                <template>
                  <div id$="[[item.name]]">{{item.name}}</div>
                </template>
              </dom-repeat>
            </iron-selector>
          </template>
        </dom-bind>
      </div>
    </template>
  </test-fixture>

  <test-fixture id="scope-polymer1">
    <template>
      <div>
        <template is="dom-bind">
          <iron-selector selected="1">
            <template is="dom-repeat">
              <div id$="[[item.name]]">{{item.name}}</div>
            </template>
          </iron-selector>
        </template>
      </div>
    </template>
  </test-fixture>

  <script>suite("dom-repeat",function(){var e,t,s;setup(function(){Polymer.Element?(e=fixture("scope-polymer2"),t=e.querySelector("iron-selector"),s=e.querySelector("dom-repeat")):(e=fixture("scope-polymer1"),t=e.querySelector("iron-selector"),s=e.querySelector("template[is=dom-repeat]")),s.items=[{name:"item0"},{name:"item1"},{name:"item2"},{name:"item3"}],s.render(),t.forceSynchronousItemUpdate()}),test("supports repeated items",function(){assert.equal(t.items.length,4),assert.equal(t.selected,1);var e=t.selectedItem;assert.equal(t.items[1],e),assert.isTrue(e.classList.contains("iron-selected"))}),test("update items",function(){assert.equal(t.items.length,4),assert.equal(t.selected,1),s.items=[{name:"foo"},{name:"bar"}],s.render(),t.forceSynchronousItemUpdate(),assert.equal(t.items.length,2),assert.equal(t.selected,1),assert.isTrue(t.querySelector("#bar").classList.contains("iron-selected"))}),test("set selected to something else",function(){t.selected=3;var e=t.selectedItem;assert.equal(t.items[3],e),assert.isTrue(e.classList.contains("iron-selected"))})});</script>



</body></html>